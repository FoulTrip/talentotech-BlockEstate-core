{
  "openapi": "3.0.0",
  "info": {
    "title": "Management Books Store API",
    "version": "1.0.0",
    "description": "API para gestionar usuarios, autores y libros"
  },
  "servers": [
    {
      "url": "http://localhost:3000"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Ingresa el token JWT obtenido al hacer login o registro"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "name": {
            "type": "string",
            "example": "Juan Pérez"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "juan.perez@example.com"
          },
          "age": {
            "type": "integer",
            "example": 30
          },
          "city": {
            "type": "string",
            "example": "Bogotá"
          }
        },
        "required": [
          "name",
          "email",
          "age",
          "city"
        ]
      },
      "Author": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "name": {
            "type": "string",
            "example": "Gabriel"
          },
          "lastName": {
            "type": "string",
            "example": "García"
          },
          "secondName": {
            "type": "string",
            "example": "José"
          },
          "fullname": {
            "type": "string",
            "example": "Gabriel José García Márquez"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "example": "1927-03-06"
          },
          "birthPlace": {
            "type": "string",
            "example": "Aracataca, Colombia"
          },
          "deathDate": {
            "type": "string",
            "format": "date",
            "example": "2014-04-17"
          },
          "deathPlace": {
            "type": "string",
            "example": "Ciudad de México, México"
          },
          "biography": {
            "type": "string",
            "example": "Biografía completa del autor..."
          },
          "shortBio": {
            "type": "string",
            "example": "Escritor colombiano, premio Nobel de Literatura."
          },
          "nationality": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "Colombiano",
              "Mexicano"
            ]
          },
          "languages": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "Español",
              "Inglés"
            ]
          },
          "genres": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "Novela",
              "Cuento",
              "Periodismo"
            ]
          },
          "occupation": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "Escritor",
              "Periodista"
            ]
          },
          "education": {
            "type": "string",
            "example": "Estudios en derecho y periodismo"
          },
          "awards": {
            "type": "string",
            "example": "Premio Nobel de Literatura 1982"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "gabriel.garcia@example.com"
          },
          "website": {
            "type": "string",
            "example": "https://www.gabrielgarcia.com"
          },
          "socialMedia": {
            "type": "string",
            "example": "@gabrielgarcia"
          },
          "isActive": {
            "type": "boolean",
            "example": true
          },
          "isVerified": {
            "type": "boolean",
            "example": true
          },
          "totalBooks": {
            "type": "integer",
            "example": 25
          },
          "photoUrl": {
            "type": "string",
            "example": "https://example.com/photo.jpg"
          },
          "coverImageUrl": {
            "type": "string",
            "example": "https://example.com/cover.jpg"
          },
          "slug": {
            "type": "string",
            "example": "gabriel-garcia-marquez"
          },
          "searchText": {
            "type": "string",
            "example": "Gabriel García Márquez literatura"
          },
          "views": {
            "type": "integer",
            "example": 100000
          },
          "popularity": {
            "type": "number",
            "example": 9.5
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-01T00:00:00.000Z"
          }
        },
        "required": [
          "name",
          "lastName",
          "secondName",
          "fullname",
          "birthDate",
          "slug",
          "nationality",
          "languages",
          "genres",
          "occupation"
        ]
      },
      "Book": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "550e8400-e29b-41d4-a716-446655440001"
          },
          "name": {
            "type": "string",
            "example": "Desarrollo Blockchain con NestJS y TypeScript"
          },
          "description": {
            "type": "string",
            "example": "Una guía práctica para construir tu propio nodo blockchain desde cero utilizando NestJS, TypeScript y Prisma, con ejemplos de contratos inteligentes, red P2P y consenso PBFT."
          },
          "authorId": {
            "type": "string",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "author": {
            "$ref": "#/components/schemas/Author"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "example": "550e8400-e29b-41d4-a716-446655440003"
                },
                "bookId": {
                  "type": "string",
                  "example": "550e8400-e29b-41d4-a716-446655440001"
                },
                "categoryId": {
                  "type": "string",
                  "example": "550e8400-e29b-41d4-a716-446655440004"
                },
                "category": {
                  "$ref": "#/components/schemas/Category"
                },
                "assignedAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2023-01-01T00:00:00.000Z"
                }
              }
            }
          },
          "genre": {
            "type": "string",
            "example": "Educativo / Técnico"
          },
          "language": {
            "type": "string",
            "example": "Español"
          },
          "publishedDate": {
            "type": "string",
            "format": "date",
            "example": "2025-10-15"
          },
          "publisher": {
            "type": "string",
            "example": "TripCode Publishing"
          },
          "isbn": {
            "type": "string",
            "example": "978-958-1234567-3"
          },
          "pageCount": {
            "type": "integer",
            "example": 324
          },
          "format": {
            "type": "string",
            "example": "Tapa blanda"
          },
          "coverImage": {
            "type": "string",
            "example": "https://example.com/covers/desarrollo-blockchain-nestjs.jpg"
          },
          "price": {
            "type": "number",
            "example": 89000
          },
          "stock": {
            "type": "integer",
            "example": 120
          },
          "rating": {
            "type": "number",
            "example": 4.8
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-01T00:00:00.000Z"
          }
        },
        "required": [
          "name",
          "authorId"
        ]
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "550e8400-e29b-41d4-a716-446655440004"
          },
          "name": {
            "type": "string",
            "example": "Tecnología"
          },
          "description": {
            "type": "string",
            "example": "Libros relacionados con tecnología y desarrollo"
          },
          "image": {
            "type": "string",
            "example": "https://example.com/categories/technology.jpg"
          },
          "isActive": {
            "type": "boolean",
            "example": true
          },
          "slug": {
            "type": "string",
            "example": "tecnologia"
          },
          "order": {
            "type": "integer",
            "example": 1
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-01T00:00:00.000Z"
          }
        },
        "required": [
          "name"
        ]
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "juan.perez@example.com"
          },
          "password": {
            "type": "string",
            "example": "password123"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "RegisterRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Juan Pérez"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "juan.perez@example.com"
          },
          "password": {
            "type": "string",
            "example": "password123"
          },
          "age": {
            "type": "integer",
            "example": 30
          },
          "city": {
            "type": "string",
            "example": "Bogotá"
          }
        },
        "required": [
          "name",
          "email",
          "password",
          "age",
          "city"
        ]
      },
      "AuthResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      }
    }
  },
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Iniciar sesión",
        "description": "Autentica un usuario con su email y contraseña y devuelve un token JWT",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              },
              "example": {
                "email": "juan.perez@example.com",
                "password": "password123"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Login exitoso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                },
                "example": {
                  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJlbWFpbCI6Imp1YW4ucGVyZXpAZXhhbXBsZS5jb20iLCJpYXQiOjE3MDg4ODg4ODh9.example"
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "Credenciales incorrectas",
            "content": {
              "application/json": {
                "example": {
                  "message": "User not found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Registrar nuevo usuario",
        "description": "Crea un nuevo usuario en el sistema y devuelve un token JWT",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              },
              "example": {
                "name": "Juan Pérez",
                "email": "juan.perez@example.com",
                "password": "password123",
                "age": 30,
                "city": "Bogotá"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuario registrado exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                },
                "example": {
                  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJlbWFpbCI6Imp1YW4ucGVyZXpAZXhhbXBsZS5jb20iLCJpYXQiOjE3MDg4ODg4ODh9.example"
                }
              }
            }
          },
          "400": {
            "description": "Validación fallida o datos inválidos",
            "content": {
              "application/json": {
                "example": {
                  "message": "Validation failed",
                  "errors": [
                    {
                      "field": "email",
                      "message": "Invalid email format"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/user": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Obtener todos los usuarios",
        "responses": {
          "200": {
            "description": "Lista de usuarios",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  }
                },
                "example": [
                  {
                    "id": 1,
                    "name": "Juan Pérez",
                    "email": "juan.perez@example.com",
                    "age": 30,
                    "city": "Bogotá"
                  },
                  {
                    "id": 2,
                    "name": "María García",
                    "email": "maria.garcia@example.com",
                    "age": 25,
                    "city": "Medellín"
                  }
                ]
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Crear un nuevo usuario",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User"
              },
              "example": {
                "name": "Nuevo Usuario",
                "email": "nuevo@example.com",
                "password": "RandomPassword",
                "age": 25,
                "city": "Bogotá"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuario creado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": 6,
                  "name": "Nuevo Usuario",
                  "email": "nuevo@example.com",
                  "age": 25,
                  "city": "Bogotá"
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          }
        }
      }
    },
    "/user/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Obtener un usuario",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": 1,
                  "name": "Juan Pérez Actualizado",
                  "email": "juan.actualizado@example.com",
                  "age": 31,
                  "city": "Bogotá",
                  "createdAt": "5134:sefewf",
                  "updatedAt": "34513134534 "
                }
              }
            }
          },
          "404": {
            "description": "Usuario no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Usuario no encontrado"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Actualizar un usuario",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User"
              },
              "example": {
                "name": "Juan Pérez Actualizado",
                "email": "juan.actualizado@example.com",
                "age": 31,
                "city": "Bogotá"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuario actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": 1,
                  "name": "Juan Pérez Actualizado",
                  "email": "juan.actualizado@example.com",
                  "age": 31,
                  "city": "Bogotá"
                }
              }
            }
          },
          "404": {
            "description": "Usuario no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Usuario no encontrado"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Eliminar un usuario",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario eliminado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                },
                "example": {
                  "id": 1,
                  "name": "Juan Pérez",
                  "email": "juan.perez@example.com",
                  "age": 30,
                  "city": "Bogotá"
                }
              }
            }
          },
          "404": {
            "description": "Usuario no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Usuario no encontrado"
                }
              }
            }
          }
        }
      }
    },
    "/author": {
      "get": {
        "tags": [
          "Authors"
        ],
        "summary": "Obtener todos los autores",
        "responses": {
          "200": {
            "description": "Lista de autores",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Author"
                  }
                },
                "example": [
                  {
                    "id": "550e8400-e29b-41d4-a716-446655440000",
                    "name": "Gabriel",
                    "lastName": "García",
                    "secondName": "José",
                    "fullname": "Gabriel José García Márquez",
                    "birthDate": "1927-03-06",
                    "slug": "gabriel-garcia-marquez",
                    "nationality": [
                      "Colombiano"
                    ],
                    "languages": [
                      "Español"
                    ],
                    "genres": [
                      "Novela",
                      "Cuento"
                    ],
                    "occupation": [
                      "Escritor"
                    ],
                    "isActive": true,
                    "isVerified": true,
                    "totalBooks": 25,
                    "views": 100000,
                    "popularity": 9.5
                  },
                  {
                    "id": "550e8400-e29b-41d4-a716-446655440001",
                    "name": "Mario",
                    "lastName": "Vargas",
                    "secondName": "Llosa",
                    "fullname": "Mario Vargas Llosa",
                    "birthDate": "1936-03-28",
                    "slug": "mario-vargas-llosa",
                    "nationality": [
                      "Peruano"
                    ],
                    "languages": [
                      "Español"
                    ],
                    "genres": [
                      "Novela",
                      "Ensayo"
                    ],
                    "occupation": [
                      "Escritor",
                      "Político"
                    ],
                    "isActive": true,
                    "isVerified": true,
                    "totalBooks": 30,
                    "views": 80000,
                    "popularity": 9.2
                  }
                ]
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authors"
        ],
        "summary": "Crear un nuevo autor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Author"
              },
              "example": {
                "name": "Nuevo",
                "lastName": "Autor",
                "secondName": "Ejemplo",
                "fullname": "Nuevo Autor Ejemplo",
                "birthDate": "1980-01-01",
                "slug": "nuevo-autor-ejemplo",
                "nationality": [
                  "Colombiano"
                ],
                "languages": [
                  "Español"
                ],
                "genres": [
                  "Novela"
                ],
                "occupation": [
                  "Escritor"
                ],
                "email": "nuevo.autor@example.com",
                "isActive": true,
                "isVerified": false,
                "totalBooks": 1,
                "views": 0,
                "popularity": 0.0
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Autor creado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Author"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440002",
                  "name": "Nuevo",
                  "lastName": "Autor",
                  "secondName": "Ejemplo",
                  "fullname": "Nuevo Autor Ejemplo",
                  "birthDate": "1980-01-01",
                  "slug": "nuevo-autor-ejemplo",
                  "nationality": [
                    "Colombiano"
                  ],
                  "languages": [
                    "Español"
                  ],
                  "genres": [
                    "Novela"
                  ],
                  "occupation": [
                    "Escritor"
                  ],
                  "email": "nuevo.autor@example.com",
                  "isActive": true,
                  "isVerified": false,
                  "totalBooks": 1,
                  "views": 0,
                  "popularity": 0.0,
                  "createdAt": "2023-01-01T00:00:00.000Z",
                  "updatedAt": "2023-01-01T00:00:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado - Token inválido o no proporcionado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Authentication token required"
                }
              }
            }
          }
        }
      }
    },
    "/author/{id}": {
      "get": {
        "tags": [
          "Authors"
        ],
        "summary": "Obtener un autor por ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "Autor encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Author"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440000",
                  "name": "Gabriel",
                  "lastName": "García",
                  "secondName": "José",
                  "fullname": "Gabriel José García Márquez",
                  "birthDate": "1927-03-06",
                  "slug": "gabriel-garcia-marquez",
                  "nationality": [
                    "Colombiano"
                  ],
                  "languages": [
                    "Español"
                  ],
                  "genres": [
                    "Novela",
                    "Cuento"
                  ],
                  "occupation": [
                    "Escritor"
                  ],
                  "isActive": true,
                  "isVerified": true,
                  "totalBooks": 25,
                  "views": 100000,
                  "popularity": 9.5,
                  "createdAt": "2023-01-01T00:00:00.000Z",
                  "updatedAt": "2023-01-01T00:00:00.000Z"
                }
              }
            }
          },
          "404": {
            "description": "Autor no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Autor no encontrado"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Authors"
        ],
        "summary": "Actualizar un autor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Author"
              },
              "example": {
                "name": "Gabriel",
                "lastName": "García",
                "secondName": "José",
                "fullname": "Gabriel José García Márquez",
                "birthDate": "1927-03-06",
                "slug": "gabriel-garcia-marquez",
                "nationality": [
                  "Colombiano"
                ],
                "languages": [
                  "Español"
                ],
                "genres": [
                  "Novela",
                  "Cuento"
                ],
                "occupation": [
                  "Escritor"
                ],
                "email": "gabriel.garcia.updated@example.com",
                "isActive": true,
                "isVerified": true,
                "totalBooks": 26,
                "views": 110000,
                "popularity": 9.6
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Autor actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Author"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440000",
                  "name": "Gabriel",
                  "lastName": "García",
                  "secondName": "José",
                  "fullname": "Gabriel José García Márquez",
                  "birthDate": "1927-03-06",
                  "slug": "gabriel-garcia-marquez",
                  "nationality": [
                    "Colombiano"
                  ],
                  "languages": [
                    "Español"
                  ],
                  "genres": [
                    "Novela",
                    "Cuento"
                  ],
                  "occupation": [
                    "Escritor"
                  ],
                  "email": "gabriel.garcia.updated@example.com",
                  "isActive": true,
                  "isVerified": true,
                  "totalBooks": 26,
                  "views": 110000,
                  "popularity": 9.6,
                  "updatedAt": "2023-01-02T00:00:00.000Z"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o no proporcionado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Authentication token required"
                }
              }
            }
          },
          "404": {
            "description": "Autor no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Autor no encontrado"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Authors"
        ],
        "summary": "Eliminar un autor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "Autor eliminado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Author"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440000",
                  "name": "Gabriel",
                  "lastName": "García",
                  "secondName": "José",
                  "fullname": "Gabriel José García Márquez",
                  "birthDate": "1927-03-06",
                  "slug": "gabriel-garcia-marquez",
                  "nationality": [
                    "Colombiano"
                  ],
                  "languages": [
                    "Español"
                  ],
                  "genres": [
                    "Novela",
                    "Cuento"
                  ],
                  "occupation": [
                    "Escritor"
                  ],
                  "isActive": true,
                  "isVerified": true,
                  "totalBooks": 25,
                  "views": 100000,
                  "popularity": 9.5
                }
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o no proporcionado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Authentication token required"
                }
              }
            }
          },
          "404": {
            "description": "Autor no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Autor no encontrado"
                }
              }
            }
          }
        }
      }
    },
    "/book": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Obtener todos los libros",
        "responses": {
          "200": {
            "description": "Lista de libros",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                },
                "example": [
                  {
                    "id": "550e8400-e29b-41d4-a716-446655440001",
                    "name": "Desarrollo Blockchain con NestJS y TypeScript",
                    "description": "Una guía práctica para construir tu propio nodo blockchain desde cero utilizando NestJS, TypeScript y Prisma, con ejemplos de contratos inteligentes, red P2P y consenso PBFT.",
                    "authorId": "550e8400-e29b-41d4-a716-446655440000",
                    "author": {
                      "id": "550e8400-e29b-41d4-a716-446655440000",
                      "name": "David",
                      "lastName": "Vásquez",
                      "secondName": "Mahecha",
                      "fullname": "David Vásquez Mahecha",
                      "slug": "david-vasquez-mahecha"
                    },
                    "categories": [
                      {
                        "id": "550e8400-e29b-41d4-a716-446655440003",
                        "bookId": "550e8400-e29b-41d4-a716-446655440001",
                        "categoryId": "550e8400-e29b-41d4-a716-446655440004",
                        "category": {
                          "id": "550e8400-e29b-41d4-a716-446655440004",
                          "name": "Tecnología",
                          "slug": "tecnologia"
                        },
                        "assignedAt": "2023-01-01T00:00:00.000Z"
                      }
                    ],
                    "genre": "Educativo / Técnico",
                    "language": "Español",
                    "publishedDate": "2025-10-15",
                    "publisher": "TripCode Publishing",
                    "isbn": "978-958-1234567-3",
                    "pageCount": 324,
                    "format": "Tapa blanda",
                    "coverImage": "https://example.com/covers/desarrollo-blockchain-nestjs.jpg",
                    "price": 89000,
                    "stock": 120,
                    "rating": 4.8,
                    "createdAt": "2023-01-01T00:00:00.000Z",
                    "updatedAt": "2023-01-01T00:00:00.000Z"
                  }
                ]
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Crear un nuevo libro",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Nuevo Libro"
                  },
                  "description": {
                    "type": "string",
                    "example": "Descripción del nuevo libro"
                  },
                  "authorId": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                  },
                  "categories": {
                    "type": "array",
                    "example": ["comedia", "drama"]
                  },
                  "genre": {
                    "type": "string",
                    "example": "Novela"
                  },
                  "language": {
                    "type": "string",
                    "example": "Español"
                  },
                  "publishedDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2023-01-01"
                  },
                  "publisher": {
                    "type": "string",
                    "example": "Editorial Ejemplo"
                  },
                  "isbn": {
                    "type": "string",
                    "example": "978-958-1234567-0"
                  },
                  "pageCount": {
                    "type": "integer",
                    "example": 200
                  },
                  "format": {
                    "type": "string",
                    "example": "Tapa blanda"
                  },
                  "coverImage": {
                    "type": "string",
                    "example": "https://example.com/covers/nuevo-libro.jpg"
                  },
                  "price": {
                    "type": "number",
                    "example": 50000
                  },
                  "stock": {
                    "type": "integer",
                    "example": 50
                  },
                  "rating": {
                    "type": "number",
                    "example": 4.5
                  }
                },
                "required": [
                  "name",
                  "authorId"
                ]
              },
              "example": {
                "name": "Nuevo Libro",
                "description": "Descripción del nuevo libro",
                "authorId": "550e8400-e29b-41d4-a716-446655440000",
                "categories": ["550e8400-e29b-41d4-a716-446655440004"],
                "genre": "Novela",
                "language": "Español",
                "publishedDate": "2023-01-01",
                "publisher": "Editorial Ejemplo",
                "isbn": "978-958-1234567-0",
                "pageCount": 200,
                "format": "Tapa blanda",
                "coverImage": "https://example.com/covers/nuevo-libro.jpg",
                "price": 50000,
                "stock": 50,
                "rating": 4.5
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Libro creado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440005",
                  "name": "Nuevo Libro",
                  "description": "Descripción del nuevo libro",
                  "authorId": "550e8400-e29b-41d4-a716-446655440000",
                  "author": {
                    "id": "550e8400-e29b-41d4-a716-446655440000",
                    "name": "David",
                    "lastName": "Vásquez",
                    "secondName": "Mahecha",
                    "fullname": "David Vásquez Mahecha"
                  },
                  "categories": [
                    {
                      "id": "550e8400-e29b-41d4-a716-446655440006",
                      "bookId": "550e8400-e29b-41d4-a716-446655440005",
                      "categoryId": "550e8400-e29b-41d4-a716-446655440004",
                      "category": {
                        "id": "550e8400-e29b-41d4-a716-446655440004",
                        "name": "Tecnología"
                      },
                      "assignedAt": "2023-01-01T00:00:00.000Z"
                    }
                  ],
                  "genre": "Novela",
                  "language": "Español",
                  "publishedDate": "2023-01-01",
                  "publisher": "Editorial Ejemplo",
                  "isbn": "978-958-1234567-0",
                  "pageCount": 200,
                  "format": "Tapa blanda",
                  "coverImage": "https://example.com/covers/nuevo-libro.jpg",
                  "price": 50000,
                  "stock": 50,
                  "rating": 4.5,
                  "createdAt": "2023-01-01T00:00:00.000Z",
                  "updatedAt": "2023-01-01T00:00:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado - Token inválido o no proporcionado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Authentication token required"
                }
              }
            }
          },
          "404": {
            "description": "Autor no encontrado"
          }
        }
      }
    },
    "/book/author/{authorId}": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Obtener libros por autor",
        "parameters": [
          {
            "name": "authorId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de libros del autor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                },
                "example": [
                  {
                    "id": "550e8400-e29b-41d4-a716-446655440001",
                    "name": "Desarrollo Blockchain con NestJS y TypeScript",
                    "authorId": "550e8400-e29b-41d4-a716-446655440000",
                    "author": {
                      "id": "550e8400-e29b-41d4-a716-446655440000",
                      "name": "David",
                      "lastName": "Vásquez",
                      "secondName": "Mahecha",
                      "fullname": "David Vásquez Mahecha"
                    },
                    "categories": [],
                    "genre": "Educativo / Técnico",
                    "language": "Español",
                    "publishedDate": "2025-10-15",
                    "publisher": "TripCode Publishing",
                    "isbn": "978-958-1234567-3",
                    "pageCount": 324,
                    "format": "Tapa blanda",
                    "price": 89000,
                    "stock": 120,
                    "rating": 4.8
                  }
                ]
              }
            }
          },
          "400": {
            "description": "ID de autor requerido"
          }
        }
      }
    },
    "/book/{id}": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Obtener un libro por ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440001"
          }
        ],
        "responses": {
          "200": {
            "description": "Libro encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440001",
                  "name": "Desarrollo Blockchain con NestJS y TypeScript",
                  "description": "Una guía práctica para construir tu propio nodo blockchain desde cero utilizando NestJS, TypeScript y Prisma, con ejemplos de contratos inteligentes, red P2P y consenso PBFT.",
                  "authorId": "550e8400-e29b-41d4-a716-446655440000",
                  "author": {
                    "id": "550e8400-e29b-41d4-a716-446655440000",
                    "name": "David",
                    "lastName": "Vásquez",
                    "secondName": "Mahecha",
                    "fullname": "David Vásquez Mahecha"
                  },
                  "categories": [
                    {
                      "id": "550e8400-e29b-41d4-a716-446655440003",
                      "bookId": "550e8400-e29b-41d4-a716-446655440001",
                      "categoryId": "550e8400-e29b-41d4-a716-446655440004",
                      "category": {
                        "id": "550e8400-e29b-41d4-a716-446655440004",
                        "name": "Tecnología"
                      },
                      "assignedAt": "2023-01-01T00:00:00.000Z"
                    }
                  ],
                  "genre": "Educativo / Técnico",
                  "language": "Español",
                  "publishedDate": "2025-10-15",
                  "publisher": "TripCode Publishing",
                  "isbn": "978-958-1234567-3",
                  "pageCount": 324,
                  "format": "Tapa blanda",
                  "coverImage": "https://example.com/covers/desarrollo-blockchain-nestjs.jpg",
                  "price": 89000,
                  "stock": 120,
                  "rating": 4.8,
                  "createdAt": "2023-01-01T00:00:00.000Z",
                  "updatedAt": "2023-01-01T00:00:00.000Z"
                }
              }
            }
          },
          "404": {
            "description": "Libro no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Book not found"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Books"
        ],
        "summary": "Actualizar un libro",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440001"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Libro Actualizado"
                  },
                  "description": {
                    "type": "string",
                    "example": "Descripción actualizada del libro"
                  },
                  "authorId": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                  },
                  "categories": {
                    "type": "array",
                    "items": {
                      "oneOf": [
                        {
                          "type": "string",
                          "description": "ID de categoría existente",
                          "example": "550e8400-e29b-41d4-a716-446655440004"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string",
                              "example": "Comedia"
                            }
                          },
                          "required": ["name"],
                          "description": "Nueva categoría a crear"
                        }
                      ]
                    },
                    "example": [
                      "550e8400-e29b-41d4-a716-446655440004",
                      {
                        "name": "Comedia"
                      }
                    ]
                  },
                  "genre": {
                    "type": "string",
                    "example": "Novela"
                  },
                  "language": {
                    "type": "string",
                    "example": "Español"
                  },
                  "publishedDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2023-01-01"
                  },
                  "publisher": {
                    "type": "string",
                    "example": "Editorial Actualizada"
                  },
                  "isbn": {
                    "type": "string",
                    "example": "978-958-1234567-1"
                  },
                  "pageCount": {
                    "type": "integer",
                    "example": 250
                  },
                  "format": {
                    "type": "string",
                    "example": "Tapa dura"
                  },
                  "coverImage": {
                    "type": "string",
                    "example": "https://example.com/covers/libro-actualizado.jpg"
                  },
                  "price": {
                    "type": "number",
                    "example": 60000
                  },
                  "stock": {
                    "type": "integer",
                    "example": 75
                  },
                  "rating": {
                    "type": "number",
                    "example": 4.9
                  }
                },
                "required": [
                  "name",
                  "authorId"
                ]
              },
              "example": {
                "name": "Libro Actualizado",
                "description": "Descripción actualizada del libro",
                "authorId": "550e8400-e29b-41d4-a716-446655440000",
                "categories": ["550e8400-e29b-41d4-a716-446655440004"],
                "genre": "Novela",
                "language": "Español",
                "publishedDate": "2023-01-01",
                "publisher": "Editorial Actualizada",
                "isbn": "978-958-1234567-1",
                "pageCount": 250,
                "format": "Tapa dura",
                "coverImage": "https://example.com/covers/libro-actualizado.jpg",
                "price": 60000,
                "stock": 75,
                "rating": 4.9
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Libro actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                },
                "example": {
                  "id": "550e8400-e29b-41d4-a716-446655440001",
                  "name": "Libro Actualizado",
                  "description": "Descripción actualizada del libro",
                  "authorId": "550e8400-e29b-41d4-a716-446655440000",
                  "author": {
                    "id": "550e8400-e29b-41d4-a716-446655440000",
                    "name": "David",
                    "lastName": "Vásquez",
                    "secondName": "Mahecha",
                    "fullname": "David Vásquez Mahecha"
                  },
                  "categories": [
                    {
                      "id": "550e8400-e29b-41d4-a716-446655440003",
                      "bookId": "550e8400-e29b-41d4-a716-446655440001",
                      "categoryId": "550e8400-e29b-41d4-a716-446655440004",
                      "category": {
                        "id": "550e8400-e29b-41d4-a716-446655440004",
                        "name": "Tecnología"
                      },
                      "assignedAt": "2023-01-01T00:00:00.000Z"
                    }
                  ],
                  "genre": "Novela",
                  "language": "Español",
                  "publishedDate": "2023-01-01",
                  "publisher": "Editorial Actualizada",
                  "isbn": "978-958-1234567-1",
                  "pageCount": 250,
                  "format": "Tapa dura",
                  "coverImage": "https://example.com/covers/libro-actualizado.jpg",
                  "price": 60000,
                  "stock": 75,
                  "rating": 4.9,
                  "updatedAt": "2023-01-02T00:00:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado - Token inválido o no proporcionado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Authentication token required"
                }
              }
            }
          },
          "404": {
            "description": "Libro o autor no encontrado"
          }
        }
      },
      "delete": {
        "tags": [
          "Books"
        ],
        "summary": "Eliminar un libro",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "550e8400-e29b-41d4-a716-446655440001"
          }
        ],
        "responses": {
          "200": {
            "description": "Libro eliminado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Book deleted successfully"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o no proporcionado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Authentication token required"
                }
              }
            }
          },
          "404": {
            "description": "Libro no encontrado",
            "content": {
              "application/json": {
                "example": {
                  "message": "Book not found"
                }
              }
            }
          }
        }
      }
    }
  }
}